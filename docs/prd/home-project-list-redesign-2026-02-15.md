# PRD: 메인 프로젝트 리스트 개편 (업데이트 책갈피/프로그레스바/링크/유형 뱃지) (2026-02-15)

## 목적
- 메인 페이지(`/home`)의 프로젝트 리스트에서 “NEW UPDATE” 영역을 전문적인 업데이트 북마크(책갈피) UI로 전면 교체한다.
- 일정 프로그레스바의 가독성을 개선한다(단계 라벨 오버레이, 날짜 가독성, 간격 조정).
- 예산/일정 패널을 클릭하면 해당 기능 페이지로 즉시 이동하도록 UX를 개선한다.
- 프로젝트 유형(설비/파츠/AS)을 더 명확하게 구분할 수 있도록 뱃지 디자인을 강화한다.

## 배경/문제
- 현재 프로젝트 카드의 `NEW UPDATE` 문구 + 뱃지 형태는 전문적인 톤에 비해 과도하게 “프로모션” 느낌이며, 실제로 무엇이 바뀌었는지(그리고 확인했는지) 명확하지 않다.
- 일정 타임라인 영역은 텍스트/프로그레스바/날짜 간격과 폰트가 작아 가독성이 낮다.
- 예산/일정 패널이 정보 표시 역할만 하고, 클릭 이동 UX가 부족하다.
- 프로젝트 유형 텍스트가 작아 빠르게 구분하기 어렵다.

## 범위
- 메인 페이지: `frontend/src/pages/SearchResults.jsx` 프로젝트 리스트 UI
- 예산 메인: `frontend/src/pages/BudgetProjectBudget.jsx` 딥링크(탭 선택) 지원
- 업데이트 확인 상태는 브라우저 로컬 저장소(localStorage) 기반으로 관리한다.

## 요구사항
- REQ-001: `NEW UPDATE` 문구는 삭제한다.
- REQ-002: 프로젝트 카드 왼쪽에 “책갈피 형태”의 업데이트 항목 링크를 리스트업한다.
  - 업데이트가 없는 프로젝트는 책갈피를 표시하지 않는다.
  - 책갈피 항목은 클릭 가능한 링크이며, “조회(확인)” 완료된 항목은 더 이상 표시하지 않는다.
- REQ-003: 업데이트 책갈피 링크 동작
  - 안건: 최신 업데이트 안건(가장 최근 `last_updated_at`) 상세로 이동한다. (없으면 안건 목록으로 이동)
  - 예산: 변경된 비용 유형(재료비/인건비/경비) 탭으로 바로 이동한다.
- REQ-004: 일정 프로그레스바 UX 개선(설비 기준이며 파츠/AS에도 동일한 스타일 적용)
  - 프로그레스바 상단의 “단계 일정/일정 + (프로젝트 단계)” 텍스트와 바 사이 간격을 줄인다.
  - 설계/제작/설치/워런티(또는 시작/종료) 라벨을 프로그레스바와 겹치게 표시한다.
  - 라벨이 바 위에서 잘 보이도록 폰트 색상/스타일을 조정한다.
  - 각 단계 시작/종료 날짜는 폰트 크기를 키우고, 시작/종료 폰트 색상을 구분한다.
- REQ-005: 카드 내 패널 클릭 이동
  - 예산 요약 패널 클릭 시 해당 프로젝트 예산 메인으로 이동한다.
  - 일정(타임라인) 패널 클릭 시 해당 프로젝트 일정 페이지로 이동한다.
- REQ-006: 프로젝트 유형(설비/파츠/AS)을 더 눈에 띄는 뱃지로 표시한다.

## 업데이트 판단/조회 완료 정의
- 업데이트 판단은 “이전 확인 시점의 스냅샷”과 “현재 스냅샷” 비교로 수행한다.
  - 예산: `monitoring.confirmed_budget_{material,labor,expense}` 값 변경을 비용 유형별 업데이트로 간주한다.
  - 안건: 프로젝트별 최신 안건의 `last_updated_at` 변경을 업데이트로 간주한다.
- 조회 완료 처리:
  - 책갈피 링크를 클릭하면 해당 항목의 스냅샷을 현재 값으로 갱신(읽음 처리)한다.

## 수용 기준
- AC-001: 메인 프로젝트 카드에서 `NEW UPDATE` 문구가 더 이상 보이지 않는다.
- AC-002: 업데이트가 발생한 프로젝트만 카드 왼쪽에 책갈피 링크가 나타난다.
- AC-003: 책갈피의 안건 링크는 최신 안건 상세로 이동한다.
- AC-004: 책갈피의 예산 링크는 해당 비용 유형 탭으로 바로 열린다.
- AC-005: 예산 요약 패널/일정 패널 클릭 시 각각 예산/일정 페이지로 이동한다.
- AC-006: 프로그레스바 라벨/날짜가 이전보다 크고 명확하게 보인다.
- AC-007: 설비/파츠/AS 유형 뱃지가 눈에 띄게 구분된다.

