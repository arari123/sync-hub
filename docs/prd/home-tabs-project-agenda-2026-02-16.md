# PRD: 메인 페이지 프로젝트/안건 전환 탭 + 내 담당/내 작성 안건 리스트 (2026-02-16)

## 목적
- 메인 페이지(`/home`)에서 프로젝트 뷰와 안건 뷰를 탭으로 즉시 전환할 수 있게 한다.
- “전체안건” 탭에서 사용자가 빠르게 확인해야 할 안건(내 담당 프로젝트의 안건 + 내가 작성한 안건)을 한 화면에서 최신 업데이트 순으로 제공한다.
- 아직 조회하지 않은(또는 마지막 조회 이후 업데이트된) 안건은 시각적으로 강조해 누락을 줄인다.

## 배경/문제
- 현재 안건 목록(이슈 관리)은 프로젝트 단위(`/project-management/projects/:projectId/agenda`)로만 확인 가능해, 여러 프로젝트를 담당하는 사용자가 “내가 봐야 할 안건”을 한 번에 확인하기 어렵다.
- 메인 페이지는 프로젝트 중심으로 설계되어 있어 안건 중심의 인박스(업데이트 확인)가 부족하다.

## 범위
- 프론트: 메인 페이지 `frontend/src/pages/SearchResults.jsx`에 탭 UI 추가 및 “전체안건” 뷰 추가
- 백엔드: 내 담당 프로젝트/내 작성 안건을 한 번에 조회하는 목록 API 추가
- “미조회 강조”는 1차로 브라우저 localStorage 기반으로 구현한다(서버 DB 스키마 변경 없음).

## 요구사항
- REQ-001: 메인 페이지 상단에 전환 탭 버튼 3개를 제공한다.
  - `내프로젝트` / `전체프로젝트` / `전체안건`
- REQ-002: `내프로젝트` 탭은 기존 메인 페이지(프로젝트 리스트/필터/페이지네이션) 동작을 유지한다.
  - 기존의 “내 프로젝트만 보기”와 동일한 결과가 표시되어야 한다.
- REQ-003: `전체프로젝트` 탭은 기존 메인 페이지 동작을 유지한다.
  - 기존의 “전체 프로젝트 보기”와 동일한 결과가 표시되어야 한다.
- REQ-004: `전체안건` 탭은 “이슈 관리” 페이지 스타일의 안건 카드 리스트를 표시한다.
- REQ-005: `전체안건` 탭의 표시 대상(목록 포함 조건)
  - (A) 내가 담당자인 프로젝트(프로젝트 `manager_user_id == me`)에 속한 게시(published) 안건
  - (B) 내가 작성한 안건(`created_by_user_id == me`)은 프로젝트 담당 여부와 무관하게 포함
  - (C) 내 작성 임시저장(draft) 안건은 포함한다(다른 사용자의 draft는 제외)
- REQ-006: `전체안건` 탭의 정렬 기준은 “최신 업데이트 안건 우선”이다.
  - `last_updated_at` 내림차순, 동률이면 `id` 내림차순
- REQ-007: 안건 카드에 프로젝트 식별 정보를 함께 표시한다(프로젝트명/프로젝트코드).
- REQ-008: “조회하지 않은 안건”은 강조 표시한다.
  - 정의: 해당 안건의 `last_updated_at`이 로컬 저장소에 기록된 마지막 조회 시점보다 큰 경우(또는 기록이 없는 경우)
  - 조회 처리: 사용자가 안건 상세를 열면 해당 안건의 마지막 조회 기준(`last_updated_at`)을 로컬 저장소에 기록한다.

## 수용 기준
- AC-001: `/home`에서 `내프로젝트/전체프로젝트/전체안건` 탭 전환이 가능하다.
- AC-002: `내프로젝트/전체프로젝트` 탭의 프로젝트 리스트 UI/필터/페이지네이션이 기존과 동일하게 동작한다.
- AC-003: `전체안건` 탭에서 “내 담당 프로젝트의 안건 + 내 작성 안건(+내 draft)”이 함께 보인다.
- AC-004: `전체안건` 탭은 최신 업데이트 순으로 정렬된다.
- AC-005: `전체안건` 탭에서 미조회(또는 업데이트 미확인) 안건이 시각적으로 강조된다.

