# 프로젝트 데이터 관리(자료실) 및 검색 확장

## 배경
- 프로젝트 메뉴의 `데이터 관리` 화면은 현재 플레이스홀더 상태이며, 프로젝트 단위 자료 업로드/폴더 관리/검색 기능이 없다.
- 업로드된 자료를 글로벌 문서 검색에서 찾더라도 어느 프로젝트 소속인지 식별하기 어렵다.
- 프로젝트 내부 자료를 빠르게 찾기 위한 전용 검색(단어 매칭) 요구가 있다.

## 목표
- `/project-management/projects/:projectId/data`에 실제 자료실 UI를 제공한다.
- 프로젝트 자료 업로드 시 코멘트를 필수로 저장하고, 폴더 트리 기반 관리(생성/이름변경/삭제)를 제공한다.
- 글로벌 문서 검색 결과에 프로젝트 코드/이름을 함께 노출한다.
- 자료실 화면 내부에서 단어 매칭 기반 프로젝트 전용 검색을 제공한다.

## 비목표
- 프로젝트별 권한 분리(현재는 로그인 사용자 공통 접근 유지).
- 대량 파일 벌크 업로드/버전 관리/파일 미리보기 기능.
- 글로벌 검색 랭킹 알고리즘 전면 개편.

## 요구사항
- REQ-001: 프로젝트 자료실 전용 백엔드 API를 제공한다.
  - 폴더 트리 조회/생성/수정/삭제(삭제 시 하위 폴더와 파일 재귀 삭제).
  - 파일 목록 조회(폴더 기준 + 검색어 기준), 파일 업로드/수정/삭제.
- REQ-002: 폴더 UX
  - 좌측 패널 최상단에 기본 폴더가 표시된다.
  - 상단에 작은 아이콘 버튼(폴더 만들기/삭제)이 있고, 선택 폴더 기준으로 동작한다.
  - 폴더 우클릭 메뉴에 `삭제`, `하위 폴더 만들기`, `이름 변경`이 있다.
- REQ-003: 업로드 UX
  - 우측 상단 업로드 패널에서 드래그 앤 드롭 또는 파일 선택 업로드가 가능하다.
  - 코멘트 입력은 필수다.
  - 업로드 시 선택된 폴더에 파일이 저장된다.
- REQ-004: 파일 목록 UX
  - 구글 드라이브 스타일 목록으로 `파일종류 아이콘`, `파일이름`, `업로드한 사람`, `업로드한 날짜`를 표시한다.
  - 파일 우클릭 메뉴에 `파일 이름 수정`, `삭제`, `폴더 이동`이 있다.
- REQ-005: 검색
  - 글로벌 문서 검색(`/documents/search`) 결과 항목에 `project_code`, `project_name`이 포함된다.
  - 자료실 화면에서 프로젝트 내부 단어 매칭 검색을 지원한다(안건 검색과 유사한 토큰 매칭).

## 수용 기준(AC)
- AC-001: `/project-management/projects/:projectId/data`에서 기본 폴더 트리와 파일 목록이 조회된다.
- AC-002: 코멘트 없이 자료실 업로드를 시도하면 실패하며, 코멘트 입력 시 업로드가 성공한다.
- AC-003: 폴더 우클릭/상단 버튼으로 폴더 생성/이름 변경/삭제가 동작하고 삭제는 재귀 반영된다.
- AC-004: 파일 우클릭에서 이름 변경/삭제/폴더 이동이 동작한다.
- AC-005: 글로벌 검색 문서 카드에 프로젝트 코드/이름이 표시된다.
- AC-006: 자료실 검색창에서 단어 매칭 검색 결과가 폴더 범위를 넘어 프로젝트 전체 파일에서 반환된다.

