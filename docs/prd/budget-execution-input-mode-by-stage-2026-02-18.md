# PRD: 프로젝트 단계별 집행금액 입력 모드 강제 (2026-02-18)

## 배경
- 예산 메인의 입력 모드에서 프로젝트 단계가 설계/제작/설치/워런티여도 예산 입력 UI가 노출되는 구간이 있어 운영 정책과 불일치한다.
- 특히 인건비/경비 탭은 "예산 입력 모드"로 보이는 사례가 있었고, 재료비는 조회 탭(예산 유닛/집행 유닛)과 입력 탭의 동작 체감이 달랐다.

## 목표
- 프로젝트 단계가 설계/제작/설치/워런티(및 기존 종료 정책 포함)일 때 입력 모드는 집행금액 전용으로 동작한다.
- 이 단계에서는 재료비/인건비/경비 모두 예산 입력 필드를 비활성화하고 집행금액 입력만 허용한다.

## 범위
- 프론트엔드
  - `BudgetProjectEditor`의 입력 모드 단계 판정 수정
  - 재료비 조회 탭 기본 유닛 모드 판정을 단계 정책과 일치시킴
- 백엔드
  - 상세/설비 수정 정책에서 실행 전용 단계 집합에 설계 단계 반영
  - 정책 문구(에러 메시지) 정합성 보정
- 테스트
  - 실행 전용 단계 정책 단위 테스트 추가

## 비범위
- 프로젝트 단계 체계 자체 변경
- 종료 단계(closure)의 업무 정책 재정의

## 요구사항
- REQ-001: 입력 모드에서 단계가 설계/제작/설치/워런티일 때 `집행금액 입력 모드`로 표시된다.
- REQ-002: 해당 단계에서는 재료비/인건비/경비 모두 예산 입력 수정이 불가하고 집행금액 입력만 가능하다.
- REQ-003: 서버 저장 정책에서도 설계 단계를 실행 전용으로 처리해 예산 항목 수정을 방지한다.
- REQ-004: `verify:fast`가 Docker 환경에서 통과한다.

## 완료 기준
- 입력 모드 UI에서 단계별 모드 라벨/편집 가능 필드가 정책과 일치한다.
- 서버 정책이 동일하게 적용되어 우회 호출 시에도 예산 항목 수정이 차단된다.
- 로컬 Docker 환경 `verify:fast` 통과
