# -----------------------------
# Sync-Hub environment template
# -----------------------------

# Database
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=synchub
POSTGRES_HOST=db
POSTGRES_PORT=5432
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# API / search
ES_HOST=http://elasticsearch:9200
HYBRID_REQUIRE_KEYWORD_MATCH=true

# OCR bridge (web -> worker)
OCR_WORKER_URL=http://ocr-worker:8100/ocr
OCR_TIMEOUT_SECONDS=420
OCR_PROFILE=quality
OCR_MAX_PAGES=4
OCR_RENDER_DPI=144
OCR_MAX_TOKENS=2048
OCR_FAST_MODE=true
OCR_FORCE_RENDER_PDF=false
OCR_PYPDF_PREFLIGHT=true
OCR_PYPDF_PREFLIGHT_MIN_CHARS=90
OCR_SKIP_MIN_CHARS=220
OCR_SPEED_MAX_PAGES=0
OCR_SPEED_RENDER_DPI=144
OCR_SPEED_MAX_TOKENS=640
OCR_SPEED_FAST_MODE=true
OCR_SPEED_FORCE_RENDER_PDF=false
OCR_QUALITY_MAX_PAGES=0
OCR_QUALITY_RENDER_DPI=180
OCR_QUALITY_MAX_TOKENS=2048
OCR_QUALITY_FAST_MODE=false
OCR_QUALITY_FORCE_RENDER_PDF=true

# GLM OCR worker defaults
OCR_ACCELERATOR=gpu
OCR_PROVIDER=paddle
OCR_CACHE_ENABLED=true
OCR_CACHE_DIR=/app/.cache/ocr_worker
GLM_OCR_ENDPOINT=http://sglang:8080/v1/chat/completions
GLM_OCR_MODE=openai-chat
GLM_OCR_MODEL=glm-ocr
GLM_OCR_PROMPT=You are an OCR engine. Transcribe all visible Korean and English text exactly as written. Keep original reading order and line breaks. Do not summarize, translate, normalize, or infer missing text.
GLM_OCR_TIMEOUT_SECONDS=240
GLM_OCR_MAX_TOKENS=2048
GLM_OCR_TEMPERATURE=0
GLM_OCR_TOP_P=1.0
GLM_MAX_PAGES=0
GLM_RENDER_DPI=180
GLM_HEALTHCHECK_URL=http://sglang:8080/health
SGLANG_MODEL_ID=zai-org/GLM-OCR

# PaddleOCR-VL worker defaults (official pipeline params)
PADDLE_PIPELINE_VERSION=v1.5
PADDLE_MODEL_NAME=PaddleOCR-VL-1.5-0.9B
PADDLE_DEVICE=gpu:0
PADDLE_MAX_PAGES=0
PADDLE_RENDER_DPI=144
PADDLE_USE_DOC_ORIENTATION_CLASSIFY=true
PADDLE_USE_DOC_UNWARPING=false
PADDLE_USE_TEXTLINE_ORIENTATION=false
PADDLE_USE_LAYOUT_DETECTION=true
PADDLE_USE_CHART_RECOGNITION=
PADDLE_USE_SEAL_RECOGNITION=
PADDLE_USE_OCR_FOR_IMAGE_BLOCK=
PADDLE_FORMAT_BLOCK_CONTENT=true
PADDLE_MERGE_LAYOUT_BLOCKS=
PADDLE_USE_QUEUES=
PADDLE_LAYOUT_SHAPE_MODE=
PADDLE_PROMPT_LABEL=
PADDLE_VL_REC_BACKEND=vllm-server
PADDLE_VL_REC_SERVER_URL=http://paddle-vlm-server:8000/v1
PADDLE_VL_REC_API_MODEL_NAME=PaddlePaddle/PaddleOCR-VL-1.5
PADDLE_VL_REC_API_KEY=
PADDLE_VL_REC_MAX_CONCURRENCY=8
PADDLE_FORCE_RENDER_PDF=false
PADDLE_FAST_MODE=true
PADDLE_FAST_FIRST_PAGES=2
PADDLE_FAST_RENDER_DPI=120
PADDLE_FAST_MIN_TEXT_CHARS=180
PADDLE_SKIP_PDF_OCR_ON_CPU=true
PADDLE_PRELOAD_ON_STARTUP=true
PADDLE_WARMUP_ON_STARTUP=false
PADDLE_PREDICT_MAX_NEW_TOKENS=384
PADDLE_PREDICT_MIN_PIXELS=
PADDLE_PREDICT_MAX_PIXELS=786432
PADDLE_PREDICT_REPETITION_PENALTY=
PADDLE_PREDICT_TEMPERATURE=0
PADDLE_PREDICT_TOP_P=1.0
PADDLE_PDX_DISABLE_MODEL_SOURCE_CHECK=true
PADDLE_VLLM_MODEL_ID=PaddlePaddle/PaddleOCR-VL-1.5
PADDLE_VLLM_SERVED_MODEL_NAME=PaddlePaddle/PaddleOCR-VL-1.5
PADDLE_VLLM_GPU_MEMORY_UTILIZATION=0.85
PADDLE_VLLM_MAX_NUM_SEQS=64

# Frontend API target
VITE_API_URL=http://localhost:8001

# Note:
# - Docker compose 기본 포트 기준이다.
# - Frontend: http://localhost:8000, API: http://localhost:8001
